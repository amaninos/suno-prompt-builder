<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suno Prompt Builder â€“ Apple UI Edition</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-R5XVLFEF8S"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-R5XVLFEF8S');
    </script>
</head>
<body>
    <div class="container">
        <!-- Theme Toggle -->
        <button id="theme-toggle" class="theme-toggle" title="Toggle Dark Mode">
            <span class="theme-icon">ðŸŒ™</span>
        </button>

        <!-- Left Panel: Settings -->
        <aside class="panel left-panel">
            <div class="panel-header">
                <h2>Settings</h2>
            </div>
            <div id="form-sections" class="form-sections">
                <!-- Dynamic form sections will be inserted here -->
            </div>
        </aside>

        <!-- Center Panel: Output -->
        <main class="panel center-panel">
            <div class="panel-header">
                <h2>Prompt Output</h2>
                <label class="live-preview-toggle">
                    <input type="checkbox" id="live-preview-toggle" checked>
                    <span class="toggle-label">Live Preview</span>
                </label>
            </div>
            <div class="output-container">
                <!-- Music/Styles Prompt -->
                <div class="prompt-block">
                    <div class="prompt-block-header">
                        <h3>Styles</h3>
                        <button id="copy-music-btn" class="btn-copy-inline" title="Copy Styles Prompt">
                            <span class="copy-icon">ðŸ“‹</span>
                        </button>
                    </div>
                    <div class="textarea-wrapper">
                        <textarea 
                            id="prompt-music" 
                            class="prompt-textarea" 
                            placeholder="Music styles, instruments, production settings will appear here..."
                            readonly
                        ></textarea>
                        <div class="character-counter">
                            <span id="char-count-music">0</span> / 1000
                        </div>
                    </div>
                </div>

                <!-- Lyrics Prompt -->
                <div class="prompt-block">
                    <div class="prompt-block-header">
                        <h3>Lyrics</h3>
                        <button id="copy-lyrics-btn" class="btn-copy-inline" title="Copy Lyrics Prompt">
                            <span class="copy-icon">ðŸ“‹</span>
                        </button>
                    </div>
                    <div class="textarea-wrapper">
                        <textarea 
                            id="prompt-lyrics" 
                            class="prompt-textarea" 
                            placeholder="Lyrics guidance will appear here..."
                            readonly
                        ></textarea>
                        <div class="character-counter">
                            <span id="char-count-lyrics">0</span> / 200
                        </div>
                    </div>
                </div>

                <!-- Legacy combined output (hidden, for backward compatibility) -->
                <textarea 
                    id="prompt-output" 
                    style="display: none;"
                ></textarea>

                <div class="button-group">
                    <button id="generate-btn" class="btn btn-primary">Generate</button>
                    <button id="random-btn" class="btn btn-secondary random-btn" title="Generate Random Prompt">
                        <span class="dice-icon">ðŸŽ²</span> Random
                    </button>
                    <button id="copy-btn" class="btn btn-secondary">Copy Both</button>
                    <button id="save-btn" class="btn btn-secondary">Save</button>
                    <button id="optimize-btn" class="btn btn-secondary">Optimize</button>
                    <div class="button-dropdown">
                        <button id="export-btn" class="btn btn-secondary">Export</button>
                        <div class="dropdown-menu">
                            <button id="export-json-btn">Export as JSON</button>
                            <button id="export-txt-btn">Export as Text</button>
                        </div>
                    </div>
                    <button id="import-btn" class="btn btn-secondary">Import</button>
                    <button id="reset-btn" class="btn btn-tertiary">Reset</button>
                </div>
            </div>
        </main>

        <!-- Right Panel: Tips & History -->
        <aside class="panel right-panel">
            <div class="panel-header">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="tips">Tips</button>
                    <button class="tab-btn" data-tab="templates">Templates</button>
                    <button class="tab-btn" data-tab="presets">Presets</button>
                    <button class="tab-btn" data-tab="shortcuts">Shortcuts</button>
                    <button class="tab-btn" data-tab="history">History</button>
                </div>
            </div>
            <div class="tab-content active" id="tips-content">
                <div class="tips-content">
                    <ul class="tips-list">
                        <li>Select only the fields that are relevant to your track</li>
                        <li>Less is more â€“ too many details can confuse the AI</li>
                        <li>Use specific instruments and styles for better results</li>
                        <li>The Optimize button will compress your prompt to â‰¤1000 characters</li>
                        <li>Turkish makam names are preserved as-is in the output</li>
                        <li>World music selections create rich, authentic descriptions</li>
                        <li>Mood and tempo are crucial for setting the right atmosphere</li>
                        <li>Vocal settings are optional â€“ leave blank for instrumental tracks</li>
                        <li>Production style affects the overall sound character</li>
                        <li>Copy your prompt and paste it directly into Suno</li>
                    </ul>
                </div>
            </div>
            <div class="tab-content" id="shortcuts-content">
                <div class="shortcuts-content">
                    <div class="shortcuts-section">
                        <h4>General</h4>
                        <div class="shortcut-item">
                            <kbd>Ctrl</kbd> + <kbd>G</kbd>
                            <span>Generate Prompt</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Ctrl</kbd> + <kbd>C</kbd>
                            <span>Copy Prompt</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Ctrl</kbd> + <kbd>R</kbd>
                            <span>Random Prompt</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Ctrl</kbd> + <kbd>O</kbd>
                            <span>Optimize Prompt</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Ctrl</kbd> + <kbd>E</kbd>
                            <span>Export Prompt</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Ctrl</kbd> + <kbd>I</kbd>
                            <span>Import Prompt</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Ctrl</kbd> + <kbd>D</kbd>
                            <span>Toggle Dark Mode</span>
                        </div>
                    </div>
                    <div class="shortcuts-section">
                        <h4>Navigation</h4>
                        <div class="shortcut-item">
                            <kbd>Esc</kbd>
                            <span>Close Modal</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Tab</kbd>
                            <span>Navigate Form Fields</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-content" id="templates-content">
                <div class="templates-content">
                    <p class="templates-intro">Click a template to load it into the form:</p>
                    <div id="templates-list" class="templates-list">
                        <!-- Templates will be inserted here -->
                    </div>
                </div>
            </div>
            <div class="tab-content" id="presets-content">
                <div class="presets-content">
                    <div class="presets-header">
                        <button id="save-preset-btn" class="btn-small btn-primary">Save Current as Preset</button>
                    </div>
                    <div id="presets-list" class="presets-list">
                        <!-- Presets will be inserted here -->
                    </div>
                    <div id="presets-empty" class="presets-empty">
                        <p>No presets saved yet.</p>
                        <p class="presets-empty-sub">Save your current settings as a preset for quick access.</p>
                    </div>
                </div>
            </div>
            <div class="tab-content" id="history-content">
                <div class="history-content">
                    <div class="history-header">
                        <button id="clear-history-btn" class="btn-small btn-tertiary">Clear All</button>
                    </div>
                    <div id="history-list" class="history-list">
                        <!-- History items will be inserted here -->
                    </div>
                    <div id="history-empty" class="history-empty">
                        <p>No prompts saved yet.</p>
                        <p class="history-empty-sub">Generated prompts will appear here.</p>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-copyright">
                <p>SUNO PROMPT BUILDER Â© 2025</p>
            </div>
            <div class="footer-disclaimer">
                <p>ðŸŽµ This tool generates prompts for SUNO AI. Results depend on SUNO's AI model. Created for sharing with followers. No warranties are provided; use at your own discretion.</p>
            </div>
        </div>
    </footer>

    <!-- Hidden file input for import -->
    <input type="file" id="import-file-input" accept=".json,.txt" style="display: none;">

    <!-- Analysis Modal -->
    <div id="analysis-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Prompt Analysis & Optimization</h3>
                <button class="modal-close" id="close-analysis-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="analysis-results"></div>
            </div>
            <div class="modal-footer">
                <button id="apply-optimization-btn" class="btn btn-primary">Apply Optimization</button>
                <button id="cancel-analysis-btn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

